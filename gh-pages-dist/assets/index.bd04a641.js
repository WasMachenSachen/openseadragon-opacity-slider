var H=Object.defineProperty,q=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var S=(c,i,o)=>i in c?H(c,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[i]=o,x=(c,i)=>{for(var o in i||(i={}))B.call(i,o)&&S(c,o,i[o]);if(E)for(var o of E(i))M.call(i,o)&&S(c,o,i[o]);return c},A=(c,i)=>q(c,$(i));const W=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))p(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const w of n.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&p(w)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function p(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}};W();const C="OpenSeadragon Opacity Slider";(function(c){if(!c.version||c.version.major<3)throw new Error(`This version of ${C} requires OpenSeadragon version 3.0.0+`);c.Viewer.prototype.opacityslider=function(e){this.Instance||(e=e||{},e.viewer=this,window.options=e,this.opacitysliderInstance=new c.OpacitySlider(e))},c.OpacitySlider=function(e){if(!e.layerInformation||!Array.isArray(e.layerInformation))throw new Error(`${C} requires options.layerInformation`);e.layerInformation.forEach(r=>{r.hidden||(r.hidden=!1)}),e.layerPickerHeading=e.layerPickerHeading?e.layerPickerHeading:"Choose layers:";let t=document.createElement("div");t.id="opacitySliderWrapperContent",document.getElementById("opacitySliderWrapper").appendChild(t).classList.add("osdos-opacity-layer-slider-wrapper"),(e.showLayerPicker||e.showLayerPicker===void 0)&&i(e),e.viewer.world.addHandler("add-item",function(r){let a=r.item.source.tilesUrl?`${r.item.source.tilesUrl.slice(0,-7)}.dzi`:r.item.source.url,d=e.layerInformation.filter(l=>l.source===a);r.item.osdosHidden=d.length?d[0].hidden:!1,o(e)}),console.log("Plugin Initialized")};function i(e){const t=document.createElement("div");t.classList.add("osdos-layer-picker-wrapper"),t.style="background: white; display: none;",t.id="checkboxWrapperContent";let r=document.createElement("h2");r.textContent=e.layerPickerHeading,t.appendChild(r);let a=document.createElement("ul");e.layerInformation.forEach(d=>{let l=document.createElement("li"),f=e.showLayerInformation||e.showLayerInformation===void 0?`<p>${d.layerNameExplanation}</p>`:"";l.innerHTML=`
        <input data-osdos='visibility-checkbox' type="checkbox" name="${d.layerName}" id="${d.layerName}" ${d.hidden?"":"checked"} data-osdos-source="${d.source}"/>
        <label for="${d.layerName}">${d.layerName}</label>
        ${f}
      `,a.appendChild(l)}),t.appendChild(a),document.querySelector("#opacitySliderWrapper").prepend(t),document.querySelectorAll("[data-osdos='visibility-checkbox']").forEach(d=>{d.addEventListener("click",l=>{O(l,e)})})}function o(e){let t=s(e),r=document.getElementById("opacitySliderWrapperContent");if(r.innerHTML="",t.forEach((a,d)=>{const l=document.createElement("div");if(l.className="osdos-layer-slider",l.setAttribute("data-osd-index",d),e.showRemove||e.showRemove===void 0){let u=document.createElement("button");u.setAttribute("data-osdos","remove-button"),u.classList.add("osdos-layer-slider-remove-button"),u.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true" class="osdos-layer-slider-remove-button-icon"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',u.addEventListener("click",()=>I(a.source,e)),l.appendChild(u)}if(e.sortable||e.sortable===void 0){const u=document.createElement("div");u.className="osdos-position-controls-wrapper";let m=document.createElement("button");m.setAttribute("data-osdos","up-button"),m.classList.add("osdos-layer-slider-up-button"),m.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true" class="osdos-layer-slider-up-button-icon" ><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg>',m.addEventListener("click",()=>k(a.source,e)),u.appendChild(m);let y=document.createElement("button");y.setAttribute("data-osdos","down-button"),y.classList.add("osdos-layer-slider-down-button"),y.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true" class="osdos-layer-slider-down-button-icon"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>',y.addEventListener("click",()=>v(a.source,e)),u.appendChild(y),l.appendChild(u)}let f=document.createElement("span");f.innerHTML=a.layerName,f.classList.add("osodos-layer-name-wrapper"),l.appendChild(f);let h=document.createElement("div");if(h.classList.add("osodos-opacity-controls-wrapper"),e.showRangeSlider||e.showRangeSlider===void 0){let u=document.createElement("input");const m={"data-osdos":"layer-opacity-slider",type:"range",min:"0",max:"100",name:"opacity-slider",class:"osdos-layer-slider-range-input"};Object.keys(m).forEach(y=>{u.setAttribute(y,m[y])}),h.appendChild(u)}if(e.showNumberInput||e.showNumberInput===void 0){let u=document.createElement("input");const m={"data-osdos":"layer-opacity-slider-value",type:"number",min:"0",max:"100",name:"opacity-slider-value",class:"osdos-layer-slider-number-input"};Object.keys(m).forEach(y=>{u.setAttribute(y,m[y])}),h.appendChild(u)}l.appendChild(h);let L=n(a.source,e);e.viewer.world.getItemAt(L).osdosHidden&&(l.style="display: none;",w(L,0,e)),r.appendChild(l)}),document.querySelector("#opacitySliderWrapper").appendChild(r),document.querySelectorAll("[data-osdos='layer-opacity-slider']").forEach((a,d)=>{a.setAttribute("data-osd-index",d),["change","input"].forEach(l=>{a.addEventListener(l,f=>{w(d,f.target.value/100,e),(e.showNumberInput||e.showNumberInput===void 0)&&(document.querySelector(`[data-osdos='layer-opacity-slider-value'][data-osd-index='${d}']`).value=f.target.value)})})}),document.querySelectorAll("[data-osdos='layer-opacity-slider-value']").forEach((a,d)=>{a.setAttribute("data-osd-index",d),a.addEventListener("input",l=>{w(d,l.target.value/100,e),(e.showRangeSlider||e.showRangeSlider===void 0)&&(document.querySelector(`[data-osdos='layer-opacity-slider'][data-osd-index='${d}']`).value=l.target.value)})}),t.forEach((a,d)=>{let l=e.viewer.world.getItemAt(d).getOpacity();(e.showNumberInput||e.showNumberInput===void 0)&&(document.querySelector(`[data-osdos='layer-opacity-slider-value'][data-osd-index='${d}']`).value=l*100),(e.showRangeSlider||e.showRangeSlider===void 0)&&(document.querySelector(`[data-osdos='layer-opacity-slider'][data-osd-index='${d}']`).value=l*100)}),e.showLayerPicker||e.showLayerPicker===void 0){const a=document.createElement("button");a.innerHTML=e.layerPickerButtonText||"Layer Picker",a.addEventListener("click",p),r.appendChild(a)}P(e.viewer)}function p(){let e=document.getElementById("checkboxWrapperContent");e.style.display=e.style.display==="block"?"none":"block"}function s(e){let t=e.viewer.world.getItemCount(),r=[];for(let a=0;a<t;a++){let d=e.viewer.world.getItemAt(a),l=d.source.tilesUrl?`${d.source.tilesUrl.slice(0,-7)}.dzi`:d.source.url,f=e.layerInformation.filter(h=>h.source===l);r[a]=f[0]}return r}function n(e,t){let r=t.viewer.world.getItemCount();for(let a=0;a<r;a++){let d=t.viewer.world.getItemAt(a),l=d.source.tilesUrl?`${d.source.tilesUrl.slice(0,-7)}.dzi`:d.source.url;if(e===l)return a}return-1}function w(e,t,r){r.viewer.world.getItemAt(e).setOpacity(t)}function v(e,t){let r=n(e,t);r!==0&&(t.viewer.world.setItemIndex(t.viewer.world.getItemAt(r),r-1),o(t),t.viewer.world.getItemAt(r).osdosHidden&&v(e,t))}function k(e,t){let r=n(e,t);t.viewer.world.getItemCount()>r+1&&(t.viewer.world.setItemIndex(t.viewer.world.getItemAt(r),r+1),o(t),t.viewer.world.getItemAt(r).osdosHidden&&k(e,t))}function I(e,t){let r=n(e,t);w(r,0,t),t.viewer.world.getItemAt(r).osdosHidden=!0,o(t),(t.showLayerPicker||t.showLayerPicker===void 0)&&(document.querySelector(`[data-osdos-source="${e}"]`).checked=!1)}function N(e,t){let r=n(e,t);w(r,1,t),t.viewer.world.getItemAt(r).osdosHidden=!1,o(t),document.querySelector(`[data-osdos-source="${e}"]`).checked=!0}function O(e,t){let r=n(e.target.getAttribute("data-osdos-source"),t);e.target.checked&&r!=-1?N(e.target.getAttribute("data-osdos-source"),t):!e.target.checked&&r!=-1&&I(e.target.getAttribute("data-osdos-source"),t)}function P(e){document.querySelectorAll(".opacity-slider-disabled").forEach(a=>{a.classList.remove("osdos-curser-not-allowed"),a.disabled=!1});let t=document.querySelector("[data-osd-index='0'] [data-osdos='down-button']");t!==null&&(t.classList.add("osdos-curser-not-allowed"),t.disabled=!0);let r=document.querySelector(`[data-osd-index='${e.world.getItemCount()-1}'] [data-osdos='up-button']`);r!==null&&(r.classList.add("osdos-curser-not-allowed"),r.disabled=!0)}})(OpenSeadragon);let g=["images/example-image.png","images/example-image-bw.png"];const b=OpenSeadragon({id:"openseadragon1",showNavigationControl:!1});b.addSimpleImage({url:g[1]});b.addSimpleImage({url:g[0]});const T=[{layerName:"Example",layerNameExplanation:"This is a flower pot",source:g[0],hidden:!1},{layerName:"Black and White",layerNameExplanation:"This is a flower pot in Black&White",source:g[1],hidden:!1}],R={sortable:!0,showRangeSlider:!0,showLayerPicker:!0,showNumberInput:!0,showRemove:!0,showtempLayerInformation:!0,showSliders:!0,layerPickerHeading:"Ebene w\xE4hlen",layerPickerButtonText:"Layer Picker"};b.opacityslider(A(x({},R),{layerInformation:T}));
